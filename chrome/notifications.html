<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="popup.css" />
		<script type="text/javascript" src="/jquery.min.js"></script>
		<script type="text/javascript" src="/api.js"></script>
	</head>
	<body>
		<div id="title">CF Notifications</div>
		<div id="loading">Loading...</div>
		<div id="notifications">
			<div class="row">
				<div class="type">
					<a target="_blank" href="http://www.christianforums.com/myaccount/">
						Unread Subscription Replies
					</a>
				</div>
				<div id="subscriptionReplies" class="number">-1</div>
			</div>
			<div class="row">
				<div class="type">
					<a target="_blank" href="http://www.christianforums.com/pm/">
						Unread PMs
					</a>
				</div>
				<div id="privateMessages" class="number">-1</div>
			</div>
			<div class="row">
				<div class="type">
					<a target="_blank" id="userProfileLink">
						Unread Visitor Messages
					</a>
				</div>
				<div id="visitorMessages" class="number">-1</div>
			</div>
			<div class="row">
				<div class="type">
					<a target="_blank" href="http://www.christianforums.com/profile/friends/#irc">
						Friend Requests
					</a>
				</div>
				<div id="friendRequests" class="number">-1</div>
			</div>
			<div class="row">
				<div class="type">
					<a target="_blank" href="http://www.christianforums.com/group.php?do=requests">
						Social Group Requests
					</a>
				</div>
				<div id="socialGroupRequests" class="number">-1</div>
			</div>
			<div class="row">
				<div class="type">
					<a target="_blank" href="http://www.christianforums.com/group.php?do=invitations">
						Social Group Invites
					</a>
				</div>
				<div id="socialGroupInvites" class="number">-1</div>
			</div>
			<div class="row">
				<div class="type">
					<a target="_blank" href="http://www.christianforums.com/album.php?do=unread">
						New Picture Comments
					</a>
				</div>
				<div id="newPictureComments" class="number">-1</div>
			</div>
			<div class="row">
				<div class="type">
					<a target="_blank" href="http://www.christianforums.com/album.php?do=moderated">
						Unapproved Picture Comments
					</a>
				</div>
				<div id="unapprovedPictureComments" class="number">-1</div>
			</div>
			<div class="row">
				<div class="type">
					<a target="_blank" href="http://www.christianforums.com/group.php?do=moderatedgms">
						Unapproved Group Messages
					</a>
				</div>
				<div id="unapprovedGroupMessages" class="number">-1</div>
			</div>
		</div>
		<script type="text/javascript">
			User.getUserID(function(id) {
				$('#userProfileLink').attr('href', 'http://www.christianforums.com/users/' + id + '/');
				
				User.getNotifications(function(notifications) {
					$('#privateMessages').text(notifications.privateMessages);
					$('#friendRequests').text(notifications.friendRequests);
					$('#socialGroupRequests').text(notifications.socialGroupRequests);
					$('#socialGroupInvites').text(notifications.socialGroupInvites);
					$('#newPictureComments').text(notifications.newPictureComments);
					$('#unapprovedPictureComments').text(notifications.unapprovedPictureComments);
					$('#unapprovedGroupMessages').text(notifications.unapprovedGroupMessages);
					$('#visitorMessages').text(notifications.visitorMessages);
					$('#subscriptionReplies').text(notifications.subscriptionReplies);
					
					$('#loading').hide();
					$('#notifications').show();
				});
			});
		</script>
	</body>
</html>
